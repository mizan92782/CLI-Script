#!/bin/bash

# =========================================
# File Permissions Helper (Linux)
# =========================================

help() {
cat << 'EOF'

================ FILE PERMISSIONS CHEAT SHEET =================

ðŸ”¹ CHECK PERMISSIONS
------------------------------------------------------------

# Show detailed file/folder permissions
ls -l
ls -lh   # human-readable sizes

# Show permissions including hidden files
ls -la

# View access control lists (ACLs)
getfacl file_or_folder

------------------------------------------------------------

ðŸ”¹ UNDERSTAND PERMISSIONS
------------------------------------------------------------

# Format: -rwxr-xr--
# First char: - (file) / d (directory) / l (symlink)
# Next 9 chars: user-group-others
# r â†’ read
# w â†’ write
# x â†’ execute

# Example:
# -rw-r--r--  1 user group 1024 Jan 1 file.txt
# user (owner): rw- â†’ read/write
# group: r-- â†’ read only
# others: r-- â†’ read only

------------------------------------------------------------

ðŸ”¹ CHANGE PERMISSIONS
------------------------------------------------------------

# Symbolic method
chmod u+x file.txt   # Add execute for owner
chmod g-w file.txt   # Remove write for group
chmod o+r file.txt   # Add read for others
chmod a+x file.txt   # Add execute for all (u+g+o)
chmod a-rwx file.txt # Remove all permissions for everyone

# Numeric / octal method
chmod 755 file.txt   # rwx r-x r-x
chmod 644 file.txt   # rw- r-- r--
chmod 700 file.txt   # rwx --- ---
chmod 777 file.txt   # rwx rwx rwx (âš  risky!)

------------------------------------------------------------

ðŸ”¹ CHANGE OWNER & GROUP
------------------------------------------------------------

# Change owner
sudo chown newuser file.txt

# Change group
sudo chgrp newgroup file.txt

# Change owner and group together
sudo chown newuser:newgroup file.txt

# Change recursively (for folders)
sudo chown -R newuser:newgroup folder_name
sudo chmod -R 755 folder_name

------------------------------------------------------------

ðŸ”¹ EXECUTABLE FILES
------------------------------------------------------------

# Make a script executable
chmod +x script.sh

# Run executable file
./script.sh

------------------------------------------------------------

ðŸ”¹ SPECIAL PERMISSIONS
------------------------------------------------------------

# Setuid â†’ execute as file owner
chmod u+s file

# Setgid â†’ execute as group owner
chmod g+s folder

# Sticky bit â†’ only owner can delete file in folder
chmod +t folder

# Check special permissions
ls -l

------------------------------------------------------------

ðŸ”¹ QUICK TIPS
------------------------------------------------------------

âœ” ls -l â†’ always first to check permissions  
âœ” chmod u/g/o â†’ symbolic method is easier to remember  
âœ” chmod 777 â†’ only for testing (not secure)  
âœ” chown/chgrp â†’ adjust owner and group  
âœ” Sticky bit â†’ useful for shared folders (/tmp style)

===============================================================

EOF
}

# Auto show help
help
